<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>JSOND.org</title>
<style type="text/css">
@import url(http://fonts.googleapis.com/css?family=Vollkorn:400,400italic,700,700italic&subset=latin);

html, body {
        padding:1em;
        margin:auto;
        max-width:42em;
        b_ackground:#fefefe;
		background:linen;
	}
body {
	font: 1.3em "Vollkorn", Palatino, Times;
	color: #333;
	line-height: 1.4;
	text-align: justify;
	}
header, nav, article, footer {
	width: 700px;
	margin:0 auto;
	}
article {
	margin-top: 4em;
	margin-bottom: 4em;
	min-height: 400px;
	}
footer {
	margin-bottom:50px;
	}
video {
	margin: 2em 0;
	border:1px solid #ddd;
	}

nav {
	font-size: .9em;
	font-style: italic;
	border-bottom: 1px solid #ddd;
	padding: 1em 0;
	}
nav p {
	margin: 0;
	}

/* Typography
-------------------------------------------------------- */

h1 {
	margin-top: 0;
	font-weight: normal;
	}
h2 {
	font-weight: normal;
	}
h3 {
	font-weight: normal;
	font-style: italic;
	margin-top:3em;
	}
p {
	margin-top:0;
	-webkit-hypens:auto;
	-moz-hypens:auto;
	hyphens:auto;
	}
ul {
	list-style: square;
	padding-left:1.2em;
	}
ol {
	padding-left:1.2em;
	}
blockquote {
	margin-left: 1em;
	padding-left: 1em;
	border-left: 1px solid #ddd;
	}
code {
	font-family: "Consolas", "Menlo", "Monaco", monospace, serif;
	font-size: .9em;
	}
a {
	color: #2484c1;
	text-decoration: none;
	}
a:hover {
	text-decoration: underline;
	}
a img {
	border:none;
	}
h1 a, h1 a:hover {
	color: #333;
	text-decoration: none;
	}
hr {
	color : #ddd;
	height : 1px;
	margin: 2em 0;
	border-top : solid 1px #ddd;
	border-bottom : none;
	border-left: 0;
	border-right: 0;
	}
p#heart{
	font-size: 2em;
	line-height: 1;
	text-align: center;
	color: #ccc;
	}
.red {
	color:#B50000;
	}

/* Home Page
--------------------------- */

body#index li {
	margin-bottom: 1em;
	}


/* iPad
-------------------------------------------------------- */
@media only screen and (max-device-width: 1024px) {
body {
	font-size: 120%;
	line-height: 1.4;
	}
} /* @iPad */

/* iPhone
-------------------------------------------------------- */
@media only screen and (max-device-width: 480px) {
body {
	text-align: left;
	}
article, footer {
	width: auto;
	}
article {
	padding: 0 10px;
	}
} /* @iPhone */

</style></head>
<body>
<h2>Introduction</h2>

<p>JSOND, <em>may also be written as</em> jsond, is a way of defining JSON using JSON. The object being defined is created using json where values are either a nested object, an array, or a string representing the data type.</p>

<h3>JSON</h3>

<p>Let&#39;s recap JSON basics. JSON is built on two structures:</p>

<ul>
<li>A unordered set of name:value pairs (object)</li>
<li>An ordered list of values (array)</li>
</ul>

<p>In JSON, a value must be one of the following:</p>

<ul>
<li>object</li>
<li>array</li>
<li>string</li>
<li>number</li>
<li>true</li>
<li>false</li>
<li>null</li>
</ul>

<h3>Types</h3>

<p>Based on the valid values JSOND simply defines the following types:</p>

<ul>
<li>&quot;string&quot;</li>
<li>&quot;number&quot;</li>
<li>&quot;boolean&quot;</li>
</ul>

<h3>An illustrative example</h3>

<p>The following JSOND defines a person with a name, an age, whether the person is student or not, the persons favorite artist and team, and a list of hobbies.</p>

<p><strong>person.jsond</strong></p>

<pre><code>{
    &quot;name&quot;: &quot;string&quot;,
    &quot;age&quot;: &quot;number&quot;,
    &quot;student&quot;: &quot;boolean&quot;,
    &quot;favorites&quot;: {
    &quot;artist&quot;: &quot;string&quot;,
    &quot;team&quot;: &quot;string&quot;
    },
    &quot;hobbies&quot;: []
}
</code></pre>

<p>The types &quot;string&quot;, &quot;number&quot;, and &quot;boolean&quot; is used to define the first three properties name, age and student. The nested favorites object is defined as having two properties artist and team, both of the type &quot;string&quot;. The property hobbies is defined as an array.</p>

<h3>Optional properties</h3>

<p>Properties can be defined as optional. Below the previous example has been enhanced so that the age number, favorites object and hobbies array are optional.</p>

<p><strong>person.jsond</strong></p>

<pre><code>{
    &quot;name&quot;: &quot;string&quot;,
    &quot;age:optional&quot;: &quot;number&quot;,
    &quot;student&quot;: &quot;boolean&quot;,
    &quot;favorites:optional&quot;: {
    &quot;artist&quot;: &quot;string&quot;,
    &quot;team&quot;: &quot;string&quot;
    },
    &quot;hobbies:optional&quot;: []
}
</code></pre>

<p>Properties that are defined as optional may either be missing, defined as null, or contain a value of the defined type.</p>

<h3>Custom types</h3>

<p>As long as JSOND can parse the type, any user-defined JSOND is valid as type. The name of the JSOND structure is used as the type name. In the example below favorites has been defined in a structure named favorites.</p>

<p><strong>favorites.jsond</strong></p>

<pre><code>{
    &quot;artist&quot;: &quot;string&quot;,
    &quot;team&quot;: &quot;string&quot;
}
</code></pre>

<p><strong>person.jsond</strong></p>

<pre><code>{
    &quot;name&quot;: &quot;string&quot;,
    &quot;age&quot;: &quot;number&quot;,
    &quot;student&quot;: &quot;boolean&quot;,
    &quot;favorites&quot;: &quot;favorites&quot;,
    &quot;hobbies&quot;: []
}
</code></pre>

<p>Person has been changed so that the defined type of &quot;favorites&quot; are the same as the name of the structure, which is also &quot;favorites&quot;.</p>

<p>Recursive type definitions are allowed.</p>

<p><strong>person.jsond</strong></p>

<pre><code>{
    &quot;name&quot;: &quot;string&quot;,
    &quot;age&quot;: &quot;number&quot;,
    &quot;student&quot;: &quot;boolean&quot;,
    &quot;favorites&quot;: &quot;favorites&quot;,
    &quot;hobbies&quot;: [],
    &quot;parents&quot;: {
        &quot;father&quot;: &quot;person&quot;,
        &quot;mother&quot;: &quot;person&quot;
    }
}
</code></pre>

<p>In the example above there is an additional object defined with the name &quot;parents&quot;. The properties of the object is father and mother which is defined as having the type &quot;person&quot;, which is a reference to the name of the overall structure.</p>

<h2>Value definitions</h2>

<p>In addition to define types, JSOND can also be used to define valid strings, numbers, and content of arrays. Value definitions appear after the type definition separated with a colon. When no value definition is supplied any value of the correct type is considered as valid value.</p>

<h3>Strings</h3>

<p>Strings are value defined using regular expressions.</p>

<p><strong>status.jsond</strong></p>

<pre><code>{
    &quot;status&quot;:&quot;string:^(OK|FAILURE)$&quot;,
    &quot;utc&quot;:&quot;string:\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{1,6})?Z&quot;
}
</code></pre>

<p>In the example above the value of status may be either &quot;OK&quot;, or &quot;FAILURE&quot; and the value of utc is a valid UTC timestamp with up to six fractions.</p>

<h3>Numbers</h3>

<p>Numbers are defined using one or more ranges. A range consists of two numbers separated with a comma within brackets. E.g. {18,99} defines any integer that is equal to or greater than 18 <em>and</em> less than or equal to 99. There are three types of brackets:</p>

<ul>
<li>Definite brackets {} are inclusive and defines any <em>integer</em> within the range.</li>
<li>Closed brackets [] are inclusive and defines any number within the range.</li>
<li>Circle brackets () are <em>exclusive</em> and defines any number within the range.</li>
</ul>

<p>Closed and circle brackets can be combined. E.g. [18,19) defines any number that is equal to or greater than 18 <em>and</em> less than 19. This is typically used to describe that any number of decimal fractions is allowed.</p>

<p>A range can be left open by omitting one of the number. E.g. {18,} defines any integer that is equal to or greater than 18.</p>

<p>Multiple ranges can be combined. E.g. (,0),(0,) defines any positive or negative number except zero.</p>

<h3>Arrays</h3>

<p>The type of values inside an array can be defined. E.g. [&quot;string&quot;] defines that the array should only consist of strings.</p>

<h3>An enhanced example</h3>

<p>The following example is an enhanced version of the previous example, enhanced with value definitions.</p>

<p><strong>person.jsond</strong></p>

<pre><code>{
    &quot;name&quot;: &quot;string:\w{2,}&quot;,
    &quot;age&quot;: &quot;number:{18,}&quot;,
    &quot;student&quot;: &quot;boolean&quot;,
    &quot;favorites&quot;: {
    &quot;artist&quot;: &quot;string&quot;,
    &quot;team&quot;: &quot;string&quot;
    },
    &quot;hobbies&quot;: [
        &quot;string&quot;
    ]
}
</code></pre>

<p>The value of name is defined to contain a string with at least two characters. The age of a person is defined to be at least 18 years old, and cannot be 18.5. The property hobbies is defined as an array of strings.</p>

<h2>Comments</h2>

<p>JSOND support comments inside the JSON structure. Comments can be made in relation to both the name and value.</p>

<p><strong>person.jsond</strong></p>

<pre><code>{
    &quot;name&quot;: &quot;string:\w{2,}&quot;,
    &quot;age&quot;: &quot;number:{18,}:We are only allowed to process users that are at least 18 years old.&quot;,
    &quot;student&quot;: &quot;boolean&quot;,
    &quot;favorites::To be defined in it&#39;s own structure.&quot;: {
    &quot;artist&quot;: &quot;string&quot;,
    &quot;team&quot;: &quot;string&quot;
    },
    &quot;hobbies&quot;: [
        &quot;string::Should we define a list of known hobbies?&quot;
    ]
}
</code></pre>

<p>In the example above there are three comments:</p>

<ul>
<li><em>We are only allowed to process users that are at least 18 years old.</em> on the value of age.</li>
<li><em>To be defined in it&#39;s own structure.</em> on the property name favorites.</li>
<li><em>Should we define a list of known hobbies?</em> on the defined value type in hobbies.</li>
</ul>

<p>As can be seen in the example above the use of comments does not require the use of value definitions.</p>

<img src="png/name.png" />

<img src="png/value.png" />

<img src="png/interval.png" />

<img src="png/value2.png" />

<img src="png/integer.png" />

<img src="png/number.png" />

</body>
</html>
